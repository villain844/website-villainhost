<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
<style>
body {
  font-family: 'Poppins', sans-serif;
  display:flex; justify-content:center; align-items:center;
  min-height:100vh; margin:0;
  background-color:#fff;
  background-size:cover; background-position:center;
}
.login-box {
  background:#fff; padding:2rem; border-radius:1rem;
  box-shadow:0 4px 20px rgba(0,0,0,0.1); width:100%; max-width:380px;
}
.logo { text-align:center; margin-bottom:1.5rem; font-size:1.5rem; font-weight:600; display:flex; align-items:center; justify-content:center; gap:.5rem; }
.logo i { color:#3b82f6; }
.form-group { position:relative; margin-bottom:1.25rem; }
.form-group input { width:100%; padding:.75rem 2.5rem; border:1px solid #d1d5db; border-radius:.5rem; font-size:.95rem; }
.input-icon { position:absolute; left:.9rem; top:50%; transform:translateY(-50%); color:#9ca3af; }
.toggle-password { position:absolute; right:.9rem; top:50%; transform:translateY(-50%); color:#9ca3af; cursor:pointer; }
button { width:100%; padding:.75rem; border:none; border-radius:.5rem; background:#3b82f6; color:#fff; font-size:1rem; font-weight:600; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:.5rem; }
button:hover { background:#2563eb; }
.footer { margin-top:1.5rem; text-align:center; font-size:.85rem; }
.footer a { color:#3b82f6; text-decoration:none; font-weight:500; display:inline-flex; align-items:center; gap:.4rem; }
</style>
</head>
<body>
<div class="login-box">
  <div class="logo"><i class="fas fa-database"></i> <span id="title">Database</span></div>
  <div class="form-group">
    <i class="fas fa-lock input-icon"></i>
    <input type="password" id="password" placeholder="Masukkan password" required>
    <i class="fas fa-eye toggle-password" id="togglePassword"></i>
  </div>
  <button id="loginBtn"><i class="fas fa-sign-in-alt"></i> Masuk</button>
  <div class="footer">
    <a id="contactDev" href="#" target="_blank"><i class="fab fa-whatsapp"></i> Contact Developer</a>
  </div>
</div>

<script src="settings.js"></script>
<script>
// Set title dan contact developer
document.getElementById("title").textContent = settings.title;
document.getElementById("contactDev").href = "https://wa.me/" + settings.adminWa;
if(settings.background) document.body.style.backgroundImage = `url('${settings.background}')`;

// Toggle password
const pwd = document.getElementById("password");
const toggle = document.getElementById("togglePassword");
toggle.addEventListener("click", ()=>{
  if(pwd.type==="password"){
    pwd.type="text";
    toggle.classList.replace("fa-eye","fa-eye-slash");
  } else {
    pwd.type="password";
    toggle.classList.replace("fa-eye-slash","fa-eye");
  }
});

// Login
document.getElementById("loginBtn").addEventListener("click", ()=>{
  const val = pwd.value.trim();
  if(val === settings.adminPassword) window.location.href = "admin/";
  else if(val === settings.userPassword) window.location.href = "user/";
  else alert("Password salah!");
});

// Enter key
pwd.addEventListener("keypress", e=>{
  if(e.key === "Enter") document.getElementById("loginBtn").click();
});
</script>
</body>
</html>
