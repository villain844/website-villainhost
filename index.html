<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
<style>
body {
  font-family: 'Poppins', sans-serif;
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background-color:#fff;
  background-size:cover;
  background-position:center;
}
.login-container {
  background:#fff;
  padding:2rem;
  border-radius:1rem;
  box-shadow:0 4px 20px rgba(0,0,0,0.08);
  width:100%;
  max-width:400px;
}
.logo {
  display:flex;
  align-items:center;
  gap:.5rem;
  font-size:1.5rem;
  font-weight:600;
  color:#3b82f6;
  margin-bottom:1rem;
}
.card { position:relative; margin-bottom:1rem; }
input {
  width:100%;
  padding:.75rem 2.5rem;
  border:1px solid #d1d5db;
  border-radius:.5rem;
  font-size:.95rem;
  box-sizing:border-box;
}
input::placeholder { color:#9ca3af; }
.input-icon { position:absolute; left:.75rem; top:50%; transform:translateY(-50%); color:#9ca3af; }
.toggle-password { position:absolute; right:.75rem; top:50%; transform:translateY(-50%); cursor:pointer; color:#9ca3af; }
button {
  width:100%;
  padding:.75rem;
  border:none;
  border-radius:.5rem;
  background:#3b82f6;
  color:#fff;
  font-weight:600;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:.5rem;
}
button:hover { background:#2563eb; }
.footer { text-align:center; margin-top:1rem; font-size:.85rem; color:#3b82f6; }
.footer a { text-decoration:none; display:flex; align-items:center; justify-content:center; gap:.25rem; }
</style>
</head>
<body>
<div class="login-container">
  <div class="logo"><i class="fas fa-database"></i> <span id="title">Xskycode Database</span></div>
  
  <form id="loginForm">
    <div class="card">
      <i class="fas fa-lock input-icon"></i>
      <input type="password" id="password" placeholder="Enter password" required>
      <i class="fas fa-eye toggle-password" id="togglePassword"></i>
    </div>
    <button type="submit"><i class="fas fa-sign-in-alt"></i> Login</button>
  </form>
  
  <div class="footer">
    <a id="contact" href="#"><i class="fab fa-whatsapp"></i> Contact Developer</a>
  </div>
</div>

<script src="settings.js"></script>
<script>
// Set dynamic content
if(settings.title) document.getElementById("title").textContent = settings.title;
if(settings.adminWa) document.getElementById("contact").href = `https://wa.me/${settings.adminWa}`;

// Toggle password visibility
const togglePassword = document.getElementById('togglePassword');
const passwordInput = document.getElementById('password');
togglePassword.addEventListener('click',()=>{
  const type = passwordInput.type === 'password' ? 'text' : 'password';
  passwordInput.type = type;
  togglePassword.classList.toggle('fa-eye');
  togglePassword.classList.toggle('fa-eye-slash');
});

// Login
document.getElementById("loginForm").addEventListener("submit", e=>{
  e.preventDefault();
  const pw = passwordInput.value.trim();
  if(pw === settings.adminPassword){
    localStorage.setItem("login","admin");
    window.location.href = "admin/";
  } else if(pw === settings.userPassword){
    localStorage.setItem("login","user");
    window.location.href = "user/";
  } else {
    alert("Password salah!");
  }
});
</script>
</body>
</html>
